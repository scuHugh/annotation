{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cornerstoneWebImageLoader.min.js","webpack:///webpack/bootstrap 9946ac028781ca97577f","webpack:///./externalModules.js","webpack:///./arrayBufferToImage.js","webpack:///./createImage.js","webpack:///./loadImage.js","webpack:///./index.js","webpack:///./registerLoaders.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","external","undefined","_registerLoaders","_registerLoaders2","obj","default","cornerstone","cs","arrayBuffer","Promise","resolve","reject","image","Image","arrayBufferView","Uint8Array","blob","Blob","urlCreator","window","URL","webkitURL","imageUrl","createObjectURL","src","onload","revokeObjectURL","onerror","error","imageId","getPixelData","getImageData","data","context","lastImageIdDrawn","canvas","getContext","height","naturalHeight","width","naturalWidth","drawImage","getCanvas","rows","columns","minPixelValue","maxPixelValue","slope","intercept","windowCenter","windowWidth","render","_externalModules","renderWebImage","getImage","color","rgba","columnPixelSpacing","rowPixelSpacing","invert","sizeInBytes","document","createElement","_interopRequireDefault","loadImage","xhr","XMLHttpRequest","open","responseType","options","beforeSend","onprogress","oProgress","lengthComputable","loaded","total","percentComplete","Math","round","eventData","triggerEvent","events","promise","_arrayBufferToImage2","response","then","imageObject","_createImage2","send","cancelFn","abort","configure","opts","_arrayBufferToImage","_createImage","createImage","arrayBufferToImage","_loadImage","registerImageLoader"],"mappings":"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","file":"cornerstoneWebImageLoader.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cornerstoneWebImageLoader\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cornerstoneWebImageLoader\"] = factory();\n\telse\n\t\troot[\"cornerstoneWebImageLoader\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*! cornerstone-web-image-loader - 2.0.0 - 2017-12-15 | (c) 2016 Chris Hafey | https://github.com/cornerstonejs/cornerstoneWebImageLoader */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cornerstoneWebImageLoader\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cornerstoneWebImageLoader\"] = factory();\n\telse\n\t\troot[\"cornerstoneWebImageLoader\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.external = undefined;\n\nvar _registerLoaders = __webpack_require__(5);\n\nvar _registerLoaders2 = _interopRequireDefault(_registerLoaders);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cornerstone = void 0;\n\nvar external = {\n  set cornerstone(cs) {\n    cornerstone = cs;\n\n    (0, _registerLoaders2.default)(cornerstone);\n  },\n  get cornerstone() {\n    return cornerstone;\n  }\n};\n\nexports.external = external;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (arrayBuffer) {\n  return new Promise(function (resolve, reject) {\n    var image = new Image();\n    var arrayBufferView = new Uint8Array(arrayBuffer);\n    var blob = new Blob([arrayBufferView]);\n    var urlCreator = window.URL || window.webkitURL;\n    var imageUrl = urlCreator.createObjectURL(blob);\n\n    image.src = imageUrl;\n    image.onload = function () {\n      resolve(image);\n      urlCreator.revokeObjectURL(imageUrl);\n    };\n\n    image.onerror = function (error) {\n      urlCreator.revokeObjectURL(imageUrl);\n      reject(error);\n    };\n  });\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (image, imageId) {\n  // extract the attributes we need\n  var rows = image.naturalHeight;\n  var columns = image.naturalWidth;\n\n  function getPixelData() {\n    var imageData = getImageData();\n\n    return imageData.data;\n  }\n\n  function getImageData() {\n    var context = void 0;\n\n    if (lastImageIdDrawn === imageId) {\n      context = canvas.getContext('2d');\n    } else {\n      canvas.height = image.naturalHeight;\n      canvas.width = image.naturalWidth;\n      context = canvas.getContext('2d');\n      context.drawImage(image, 0, 0);\n      lastImageIdDrawn = imageId;\n    }\n\n    return context.getImageData(0, 0, image.naturalWidth, image.naturalHeight);\n  }\n\n  function getCanvas() {\n    if (lastImageIdDrawn === imageId) {\n      return canvas;\n    }\n\n    canvas.height = image.naturalHeight;\n    canvas.width = image.naturalWidth;\n    var context = canvas.getContext('2d');\n\n    context.drawImage(image, 0, 0);\n    lastImageIdDrawn = imageId;\n\n    return canvas;\n  }\n\n  // Extract the various attributes we need\n  return {\n    imageId: imageId,\n    minPixelValue: 0,\n    maxPixelValue: 255,\n    slope: 1,\n    intercept: 0,\n    windowCenter: 128,\n    windowWidth: 255,\n    render: _externalModules.external.cornerstone.renderWebImage,\n    getPixelData: getPixelData,\n    getCanvas: getCanvas,\n    getImage: function getImage() {\n      return image;\n    },\n    rows: rows,\n    columns: columns,\n    height: rows,\n    width: columns,\n    color: true,\n    rgba: false,\n    columnPixelSpacing: undefined,\n    rowPixelSpacing: undefined,\n    invert: false,\n    sizeInBytes: rows * columns * 4\n  };\n};\n\nvar _externalModules = __webpack_require__(0);\n\nvar canvas = document.createElement('canvas');\nvar lastImageIdDrawn = void 0;\n\n/**\n * creates a cornerstone Image object for the specified Image and imageId\n *\n * @param image - An Image\n * @param imageId - the imageId for this image\n * @returns Cornerstone Image Object\n */\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadImage = loadImage;\nexports.configure = configure;\n\nvar _externalModules = __webpack_require__(0);\n\nvar _arrayBufferToImage = __webpack_require__(1);\n\nvar _arrayBufferToImage2 = _interopRequireDefault(_arrayBufferToImage);\n\nvar _createImage = __webpack_require__(2);\n\nvar _createImage2 = _interopRequireDefault(_createImage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n// This is a cornerstone image loader for web images such as PNG and JPEG\n//\nvar options = {\n  // callback allowing customization of the xhr (e.g. adding custom auth headers, cors, etc)\n  beforeSend: function beforeSend() /* xhr */{}\n};\n\n// Loads an image given a url to an image\nfunction loadImage(imageId) {\n  var cornerstone = _externalModules.external.cornerstone;\n\n  var xhr = new XMLHttpRequest();\n\n  xhr.open('GET', imageId, true);\n  xhr.responseType = 'arraybuffer';\n  options.beforeSend(xhr);\n\n  xhr.onprogress = function (oProgress) {\n    if (oProgress.lengthComputable) {\n      // evt.loaded the bytes browser receive\n      // evt.total the total bytes set by the header\n      var loaded = oProgress.loaded;\n      var total = oProgress.total;\n      var percentComplete = Math.round(loaded / total * 100);\n\n      var eventData = {\n        imageId: imageId,\n        loaded: loaded,\n        total: total,\n        percentComplete: percentComplete\n      };\n\n      cornerstone.triggerEvent(cornerstone.events, 'cornerstoneimageloadprogress', eventData);\n    }\n  };\n\n  var promise = new Promise(function (resolve, reject) {\n    xhr.onload = function () {\n      var imagePromise = (0, _arrayBufferToImage2.default)(this.response);\n\n      imagePromise.then(function (image) {\n        var imageObject = (0, _createImage2.default)(image, imageId);\n\n        resolve(imageObject);\n      }, reject);\n    };\n\n    xhr.send();\n  });\n\n  var cancelFn = function cancelFn() {\n    xhr.abort();\n  };\n\n  return {\n    promise: promise,\n    cancelFn: cancelFn\n  };\n}\n\nfunction configure(opts) {\n  options = opts;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.external = exports.configure = exports.loadImage = exports.createImage = exports.arrayBufferToImage = undefined;\n\nvar _arrayBufferToImage = __webpack_require__(1);\n\nvar _arrayBufferToImage2 = _interopRequireDefault(_arrayBufferToImage);\n\nvar _createImage = __webpack_require__(2);\n\nvar _createImage2 = _interopRequireDefault(_createImage);\n\nvar _loadImage = __webpack_require__(3);\n\nvar _externalModules = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.arrayBufferToImage = _arrayBufferToImage2.default;\nexports.createImage = _createImage2.default;\nexports.loadImage = _loadImage.loadImage;\nexports.configure = _loadImage.configure;\nexports.external = _externalModules.external;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (cornerstone) {\n  // Register the http and https prefixes so we can use standard web urls directly\n  cornerstone.registerImageLoader('http', _loadImage.loadImage);\n  cornerstone.registerImageLoader('https', _loadImage.loadImage);\n};\n\nvar _loadImage = __webpack_require__(3);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cornerstoneWebImageLoader.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9946ac028781ca97577f","import registerLoaders from './registerLoaders.js';\n\nlet cornerstone;\n\nconst external = {\n  set cornerstone (cs) {\n    cornerstone = cs;\n\n    registerLoaders(cornerstone);\n  },\n  get cornerstone () {\n    return cornerstone;\n  }\n};\n\nexport { external };\n\n\n\n// WEBPACK FOOTER //\n// ./externalModules.js","/**\n * Convert array buffer to image. Returns a promise that resolves to an Image object for the bytes in arrayBuffer\n *\n * @param arrayBuffer - arrayBuffer with bytes for a web image (e.g. JPEG, PNG, etc)\n * @returns {Promise} Promise that resolves to an Image object\n */\nexport default function (arrayBuffer) {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    const arrayBufferView = new Uint8Array(arrayBuffer);\n    const blob = new Blob([arrayBufferView]);\n    const urlCreator = window.URL || window.webkitURL;\n    const imageUrl = urlCreator.createObjectURL(blob);\n\n    image.src = imageUrl;\n    image.onload = () => {\n      resolve(image);\n      urlCreator.revokeObjectURL(imageUrl);\n    };\n\n    image.onerror = (error) => {\n      urlCreator.revokeObjectURL(imageUrl);\n      reject(error);\n    };\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./arrayBufferToImage.js","import { external } from './externalModules.js';\n\nconst canvas = document.createElement('canvas');\nlet lastImageIdDrawn;\n\n/**\n * creates a cornerstone Image object for the specified Image and imageId\n *\n * @param image - An Image\n * @param imageId - the imageId for this image\n * @returns Cornerstone Image Object\n */\nexport default function (image, imageId) {\n  // extract the attributes we need\n  const rows = image.naturalHeight;\n  const columns = image.naturalWidth;\n\n  function getPixelData () {\n    const imageData = getImageData();\n\n\n    return imageData.data;\n  }\n\n  function getImageData () {\n    let context;\n\n    if (lastImageIdDrawn === imageId) {\n      context = canvas.getContext('2d');\n    } else {\n      canvas.height = image.naturalHeight;\n      canvas.width = image.naturalWidth;\n      context = canvas.getContext('2d');\n      context.drawImage(image, 0, 0);\n      lastImageIdDrawn = imageId;\n    }\n\n    return context.getImageData(0, 0, image.naturalWidth, image.naturalHeight);\n  }\n\n  function getCanvas () {\n    if (lastImageIdDrawn === imageId) {\n      return canvas;\n    }\n\n    canvas.height = image.naturalHeight;\n    canvas.width = image.naturalWidth;\n    const context = canvas.getContext('2d');\n\n    context.drawImage(image, 0, 0);\n    lastImageIdDrawn = imageId;\n\n    return canvas;\n  }\n\n  // Extract the various attributes we need\n  return {\n    imageId,\n    minPixelValue: 0,\n    maxPixelValue: 255,\n    slope: 1,\n    intercept: 0,\n    windowCenter: 128,\n    windowWidth: 255,\n    render: external.cornerstone.renderWebImage,\n    getPixelData,\n    getCanvas,\n    getImage: () => image,\n    rows,\n    columns,\n    height: rows,\n    width: columns,\n    color: true,\n    rgba: false,\n    columnPixelSpacing: undefined,\n    rowPixelSpacing: undefined,\n    invert: false,\n    sizeInBytes: rows * columns * 4\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./createImage.js","import { external } from './externalModules.js';\nimport arrayBufferToImage from './arrayBufferToImage.js';\nimport createImage from './createImage.js';\n\n//\n// This is a cornerstone image loader for web images such as PNG and JPEG\n//\nlet options = {\n  // callback allowing customization of the xhr (e.g. adding custom auth headers, cors, etc)\n  beforeSend (/* xhr */) {}\n};\n\n\n// Loads an image given a url to an image\nexport function loadImage (imageId) {\n  const cornerstone = external.cornerstone;\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('GET', imageId, true);\n  xhr.responseType = 'arraybuffer';\n  options.beforeSend(xhr);\n\n  xhr.onprogress = function (oProgress) {\n    if (oProgress.lengthComputable) {\n      // evt.loaded the bytes browser receive\n      // evt.total the total bytes set by the header\n      const loaded = oProgress.loaded;\n      const total = oProgress.total;\n      const percentComplete = Math.round((loaded / total) * 100);\n\n      const eventData = {\n        imageId,\n        loaded,\n        total,\n        percentComplete\n      };\n\n      cornerstone.triggerEvent(cornerstone.events, 'cornerstoneimageloadprogress', eventData);\n    }\n  };\n\n  const promise = new Promise((resolve, reject) => {\n    xhr.onload = function () {\n      const imagePromise = arrayBufferToImage(this.response);\n\n      imagePromise.then((image) => {\n        const imageObject = createImage(image, imageId);\n\n        resolve(imageObject);\n      }, reject);\n    };\n\n    xhr.send();\n  });\n\n  const cancelFn = () => {\n    xhr.abort();\n  };\n\n  return {\n    promise,\n    cancelFn\n  };\n}\n\nexport function configure (opts) {\n  options = opts;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./loadImage.js","import arrayBufferToImage from './arrayBufferToImage.js';\nimport createImage from './createImage.js';\nimport { loadImage, configure } from './loadImage.js';\nimport { external } from './externalModules.js';\n\nexport {\n  arrayBufferToImage,\n  createImage,\n  loadImage,\n  configure,\n  external\n};\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import { loadImage } from './loadImage.js';\n\nexport default function (cornerstone) {\n  // Register the http and https prefixes so we can use standard web urls directly\n  cornerstone.registerImageLoader('http', loadImage);\n  cornerstone.registerImageLoader('https', loadImage);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./registerLoaders.js"],"sourceRoot":""}